<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>
    CSV Dialect Description Format (CSVDDF) - Frictionless Data - Open Knowledge International
  </title>
  <meta name="author" content="Open Knowledge International and others">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="//netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <link href="/css/style.css" rel="stylesheet" />

  
  

  <!-- Consent manager -->
  <script>var okiConsent = {analyticsTrackingID: 'UA-8271754-41'}</script>
  <script src="https://a.okfn.org/html/oki/consent/assets/js/consent.js"></script>

</head>
<body>

<div class="navbar navbar-static-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="/">
        <img src="/img/frictionless-data.png" alt="" />
        Frictionless Data
        <small>Specifications</small>
      </a>
      <ul class="nav pull-right">
        <li class="divider-vertical"></li>
        <li class="dropdown">
	  <a class="dropdown-toggle" data-toggle="dropdown" href="#">Specifications <b class="caret"></b></a>
   	  <ul class="dropdown-menu">
	    <li><a href="/data-packages">Data Packages</a></li>
<li><a href="/json-table-schema">JSON Table Schema</a></li>
<li><a href="/csv-dialect">CSV Dialect Description</a></li>
<li><a href="/data-package-identifier">Data Package Identifiers</a></li>
<li><a href="/tabular-data-package">Tabular Data Package</a></li>
<li><a href="/fiscal-data-package">Fiscal Data Package</a></li>


          </ul>
        </li>
        <li class="divider-vertical"></li>
        <li>
          <a href="http://frictionlessdata.io" title="Main Site">Main Site</a>
        </li>
	
        <li class="divider-vertical"></li>
        <li>
          <a href="https://discuss.okfn.org/c/frictionless-data" title="Join the discussion">Forum</a>
        </li>
	
        <li class="divider-vertical"></li>
        <li>
          <a href="https://github.com/frictionlessdata/specs/issues" title="Report issues, suggestions and improvements">Issue Tracker</a>
        </li>
        <li class="divider-vertical"></li>
        <li>
          <a href="https://github.com/frictionlessdata/specs" title="Fork and pull to submit new material or corrections">Repo</a>
        </li>
	
        <li class="divider-vertical"></li>
        <li>
          <a href="https://twitter.com/OKFNLabs">Twitter</a>
        </li>
	
        <li class="divider-vertical"></li>
      </ul>
    </div>
  </div>
</div>
<div class="container">
  <div class="content">
    <div class="row">
      <div class="span6 offset3">
        <div class="banner page-header">
          <h1>
            CSV Dialect Description Format (CSVDDF)
            
          </h1>
        </div>

        
  
  


<p>This RFC defines a simple JSON format to describe the various dialects
of CSV files; it aims to deal with a reasonably large subset of the
features which differ between dialects (terminator strings, quoting
rules, escape rules, etc), and roughly to describe the union of the
capabilities of Python’s csv module, Ruby’s CSV module, and the MySQL
and Postgres bulk load facilities at the time of writing (February
2013).</p>

<p>The keys of the “dialect” member of the JSON dictionary are intended to
be very close to the arguments to Python’s csv.Dialect class.</p>

<table class="table table-striped meta">
  
  
    <tr><td>Version</td><td>1.2</td></tr>
  
  
    <tr><td>Last Updated</td><td>7 May 2015</td></tr>
  
  
    <tr><td>Created</td><td>20 February 2013</td></tr>
  
</table>

<h3 id="changelog">Changelog</h3>

<ul>
  <li>1.2.1: <a href="https://github.com/dataprotocols/dataprotocols/issues/193#issuecomment-99774395">case-sensitive header</a></li>
  <li>1.2: (breaking) - for details see this
<a href="https://github.com/dataprotocols/dataprotocols/issues/99">issue</a>
    <ul>
      <li>remove dialect attribute moving all other attributes up one level up one level</li>
      <li>specify defaults for most attributes</li>
    </ul>
  </li>
</ul>

<h1 id="excluded">Excluded</h1>

<p>CSVDDF has nothing to do with the names, contents or types of the
headers or data within the CSV file, only how it is formatted. However,<br />
CSVDDF does allow the presence or absence of a header to be specified, 
similarly to <a href="http://www.ietf.org/rfc/rfc4180.txt">RFC4180</a></p>

<p>CSVDDF is also orthogonal to the character encoding used in the CSV
file. Note that it is possible for files in CSV format to contain data
in more than one encoding.</p>

<h1 id="usage">Usage</h1>

<p>CSVDDF is useful for programmes which might have to deal with multiple
dialects of CSV file, but which can rely on being told out-of-band which
dialect will be used in a given input stream.</p>

<p>This reduces the need for heuristic inference of CSV dialects, and
simplifies the implementation of CSV readers, which must juggle dialect
inference, schema inference, unseekable input streams, character
encoding issues, and the lazy reading of very large input streams.</p>

<p>For example, a curator might take a file published by a third party in
CSV format, work out what dialect the file is in, and package this file
alongside a file in CSVDDF, such that a programme reading the package
can know which options to pass to its CSV reader module or to its SQL
bulk load statement, without danger of corrupting the data.</p>

<h1 id="example">Example</h1>

<p>Here’s an example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "csvddfVersion": 1.0,
  "delimiter": ",",
  "doubleQuote": true,
  "lineTerminator": "\r\n",
  "quoteChar": "\"",
  "skipInitialSpace": true,
  "header": true
}
</code></pre></div></div>

<h1 id="specification">Specification</h1>

<p>The format is a JSON hash comprising</p>

<table class="table table-striped table-bordered table-condensed table-definitions">
  <tbody>
    <tr>
      <td>csvddfVersion</td>
      <td>a number, in n.n format, e.g., <code class="highlighter-rouge">1.0</code>. If not present, consumers should assume latest schema version.</td>
    </tr>
    <tr>
      <td>delimiter</td>
      <td>specifies a one-character string to use as the field separator. Default = <code class="highlighter-rouge">,</code></td>
    </tr>
    <tr>
      <td>doubleQuote</td>
      <td>controls the handling of quotes inside fields. If true, two consecutive quotes should be interpreted as one. Default = <code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td>lineTerminator</td>
      <td>specifies the character sequence which should terminate rows. Default = <code class="highlighter-rouge">\r\n</code></td>
    </tr>
    <tr>
      <td>nullSequence</td>
      <td>specifies the null sequence (for example <code class="highlighter-rouge">\N</code>). Not set by default</td>
    </tr>
    <tr>
      <td>quoteChar</td>
      <td>specifies a one-character string to use as the quoting character. Default = <code class="highlighter-rouge">"</code></td>
    </tr>
    <tr>
      <td>escapeChar</td>
      <td>specifies a one-character string to use for escaping (for example, <code class="highlighter-rouge">\</code>), mutually exclusive with <code class="highlighter-rouge">quoteChar</code>. Not set by default</td>
    </tr>
    <tr>
      <td>skipInitialSpace</td>
      <td>specifies how to interpret whitespace which immediately follows a delimiter; if <code class="highlighter-rouge">false</code>, it means that whitespace immediately after a delimiter should be treated as part of the following field. Default = <code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td>header</td>
      <td>indicates whether the file includes a header row. If <code class="highlighter-rouge">true</code> the first row in the file is a header row, not data. Default = <code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td>caseSensitiveHeader</td>
      <td>indicates that case in the header is meaningful. For example, columns <code class="highlighter-rouge">CAT</code> and <code class="highlighter-rouge">Cat</code> should not be equated. Default = <code class="highlighter-rouge">false</code></td>
    </tr>
  </tbody>
</table>

<h1 id="links">Links</h1>

<p><a href="https://docs.google.com/spreadsheet/ccc?key=0AmU3V2vcPKrIdEhoU1NQSWtoQmJwcUNCelJtdkx2bFE&amp;usp=sharing">Comparison of csv dialect
support</a></p>

<p><a href="http://panda.readthedocs.org/en/latest/api.html#data-uploads">Example of similar JSON
format</a></p>

<p><a href="http://www.python.org/dev/peps/pep-0305/">PEP 305</a></p>



      </div>
    </div>
  </div><!-- /content -->
  </div>

  <footer>
    <div class="container">
      <p>
        A project of <a href="http://okfn.org">Open Knowledge International</a>, with support from the <a href="http://sloan.org">Sloan Foundation</a> and the <a href="http://okfnlabs.org">Open Knowledge Labs community</a>
        &ndash;
        <a href="http://github.com/frictionlessdata/specs">Source Code</a>
      </p>
      <p>
      <a href="http://opendefinition.org/okd/" title="Open Content">
        <img src="http://assets.okfn.org/images/ok_buttons/oc_80x15_blue.png" alt="" border="" /></a>
      <a href="http://opendefinition.org/ossd/" title="Open Online Software Service">
        <img src="http://assets.okfn.org/images/ok_buttons/os_80x15_orange_grey.png" alt="" border="" />
      </a>
      </p>
      <p>
        Licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC Attribution license v3</a>
      </p>
      <p>
        <a href="https://okfn.org/terms-of-use/">Terms of use</a> |
        <a href="https://okfn.org/privacy-policy/">Privacy policy</a>
      </p>
  </div><!-- /container -->
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="http://assets.okfn.org/themes/okfn/collapse.min.js" type="text/javascript"></script>
<script src="http://assets.okfn.org/themes/okfn/okf-panel.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.1/anchor.min.js"></script>
<script>
  anchors.options.icon = '#';
  anchors.add('h2, h3, h4, h5, h6');
</script>

</body>
</html>
